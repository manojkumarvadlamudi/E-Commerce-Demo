<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Demo E-Cart</title>
Â  <link rel="stylesheet" href="style.css" />
</head>
<body>
Â  <!-- Header -->
Â  <header>
Â  Â  <h1>ğŸ›’ My Demo E-Cart</h1>
Â  Â  <nav>
Â  Â  Â  <a href="cart.html">
Â  Â  Â  Â  View Cart ğŸ›ï¸ (<span id="cart-count">0</span>)
Â  Â  Â  </a>
Â  Â  </nav>
Â  </header>

Â  <!-- Hero Section -->
Â  <section class="hero">
Â  Â  <h2>Shop Premium Tech Gadgets</h2>
Â  Â  <p>Discover luxury electronics at unbeatable prices.</p>
Â  </section>

Â  <!-- Product List -->
Â  <main>
Â  Â  <section id="product-list" class="product-grid">
Â  Â  Â  <!-- Products will be injected here via JS -->
Â  Â  </section>
Â  </main>

Â  <!-- Footer -->
Â  <footer>
Â  Â  <p>&copy; 2025 Your Name. All rights reserved.</p>
Â  </footer>

Â  <script>
Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  fetch('/api/products')
Â  Â  Â  Â  .then(res => res.json())
Â  Â  Â  Â  .then(products => {
Â  Â  Â  Â  Â  displayProducts(products);
Â  Â  Â  Â  Â  updateCartCount();
Â  Â  Â  Â  })
Â  Â  Â  Â  .catch(err => console.error('Failed to load products:', err));
Â  Â  });

Â  Â  function displayProducts(products) {
Â  Â  Â  const productList = document.getElementById('product-list');
Â  Â  Â  productList.innerHTML = '';
Â  Â  Â  let cart = JSON.parse(localStorage.getItem('cart')) || [];

Â  Â  Â  products.forEach(product => {
Â  Â  Â  Â  const inCart = cart.some(item => item.id === product.id);
Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  card.className = 'product-card';
Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  <img src="${product.images[0]}" alt="${product.name}" />
Â  Â  Â  Â  Â  <h3>${product.name}</h3>
Â  Â  Â  Â  Â  <p>â‚¹${product.price}</p>
Â  Â  Â  Â  Â  ${
Â  Â  Â  Â  Â  Â  inCart 
Â  Â  Â  Â  Â  Â  Â  ? `<button onclick="removeFromCart(${product.id})">Remove from Cart</button>`
Â  Â  Â  Â  Â  Â  Â  : `<button onclick="addToCart(${product.id}, '${product.name}', ${product.price}, '${product.images[0]}')">Add to Cart</button>`
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  `;
Â  Â  Â  Â  productList.appendChild(card);
Â  Â  Â  });
Â  Â  }

Â  Â  function addToCart(id, name, price, image) {
Â  Â  Â  let cart = JSON.parse(localStorage.getItem('cart')) || [];
Â  Â  Â  const existingItem = cart.find(item => item.id === id);

Â  Â  Â  if(existingItem) {
Â  Â  Â  Â  existingItem.qty += 1;
Â  Â  Â  } else {
Â  Â  Â  Â  cart.push({ id, name, price, image, qty: 1 });
Â  Â  Â  }

Â  Â  Â  localStorage.setItem('cart', JSON.stringify(cart));
Â  Â  Â  updateCartCount();
Â  Â  Â  fetch('/api/products')
Â  Â  Â  Â  .then(res => res.json())
Â  Â  Â  Â  .then(products => displayProducts(products));
Â  Â  Â  showToast(`${name} added to cart!`);
Â  Â  }

Â  Â  function removeFromCart(id) {
Â  Â  Â  let cart = JSON.parse(localStorage.getItem('cart')) || [];
Â  Â  Â  cart = cart.filter(item => item.id !== id);
Â  Â  Â  localStorage.setItem('cart', JSON.stringify(cart));
Â  Â  Â  updateCartCount();
Â  Â  Â  fetch('/api/products')
Â  Â  Â  Â  .then(res => res.json())
Â  Â  Â  Â  .then(products => displayProducts(products));
Â  Â  Â  showToast('Item removed from cart!');
Â  Â  }

Â  Â  function updateCartCount() {
Â  Â  Â  const cart = JSON.parse(localStorage.getItem('cart')) || [];
Â  Â  Â  const count = cart.reduce((acc, item) => acc + item.qty, 0);
Â  Â  Â  const badge = document.getElementById('cart-count');
Â  Â  Â  if(badge) badge.textContent = count;
Â  Â  }

Â  Â  function showToast(message) {
Â  Â  Â  const toast = document.createElement('div');
Â  Â  Â  toast.textContent = message;
Â  Â  Â  toast.style.position = 'fixed';
Â  Â  Â  toast.style.bottom = '20px';
Â  Â  Â  toast.style.right = '20px';
Â  Â  Â  toast.style.background = '#4b0082';
Â  Â  Â  toast.style.color = 'white';
Â  Â  Â  toast.style.padding = '10px 20px';
Â  Â  Â  toast.style.borderRadius = '8px';
Â  Â  Â  toast.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';
Â  Â  Â  toast.style.zIndex = '1000';
Â  Â  Â  toast.style.opacity = '0';
Â  Â  Â  toast.style.transition = 'opacity 0.5s ease';

Â  Â  Â  document.body.appendChild(toast);
Â  Â  Â  setTimeout(() => toast.style.opacity = '1', 100);
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  toast.style.opacity = '0';
Â  Â  Â  Â  setTimeout(() => document.body.removeChild(toast), 500);
Â  Â  Â  }, 2000);
Â  Â  }
Â  </script>
</body>
</html>
